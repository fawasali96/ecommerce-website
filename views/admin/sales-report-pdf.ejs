<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Sales Report</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 40px; }
    h1, h2 { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; font-size: 12px; }
    th { background-color: #f5f5f5; }
    .summary p { font-size: 14px; margin: 5px 0; }
  </style>
</head>
<body>
  <h1>Sales Report</h1>
  <div class="summary">
    <h2>Summary</h2>
    <p><strong>Total Sales:</strong> &#8377;<%= Math.round(salesData.totalSales).toLocaleString() %></p>
    <p><strong>Total Orders:</strong> <%= salesData.orderCount %></p>
    <p><strong>Total Product Discounts:</strong> &#8377;<%= Math.round(salesData.discounts).toLocaleString() %></p>
    <p><strong>Total Coupon Discounts:</strong> &#8377;<%= Math.round(salesData.coupons).toLocaleString() %></p>
    <p><strong>Total Overall Discount:</strong> &#8377;<%= Math.round(salesData.lessPrices).toLocaleString() %></p>

  </div>

  <h2>Detailed Sales</h2>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Customer</th>
        <th>Order ID</th>
        <th>Amount</th>
        <th>Discount</th>
        <th>Coupon</th>
      </tr>
    </thead>
    <tbody>
      <% salesData.sales.forEach(sale => { %>
        <tr>
          <td><%= new Date(sale.date).toLocaleDateString() %></td>
          <td><%= sale.customerName %></td>
          <td><%= sale.orderId.slice(-12) %></td>
          <td>₹<%= Math.round(sale.amount).toLocaleString() %></td>
          <td>₹<%= Math.round(sale.discount).toLocaleString() %></td>
          <td>₹<%= Math.round(sale.coupon).toLocaleString() %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</body>
</html>

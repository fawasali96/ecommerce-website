<%- include("../../views/partials/user/header") %>

<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<style>
    body {
        background-color: #f7f7f7;
    }

    .container {
        margin-bottom: 50px;
    }

    .sidebar {
        background-color: white;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .sidebar a {
        color: #333;
        display: block;
        padding: 10px 0;
        text-decoration: none;
    }

    .sidebar a.active {
        color: #ff6600;
    }

    .sidebar a:hover {
        color: #ff6600;
    }

    .sidebar a i {
        margin-right: 10px;
    }

    .main-content {
        background-color: white;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .main-content h2 {
        margin-bottom: 20px;
    }

    .profile-info p {
        font-size: 18px;
        margin-bottom: 12px;
    }

    .btn-edit {
        margin-top: 20px;
    }

    .profile-image-container {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

    .rounded-circle {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid #fff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .ml-3 {
        margin-left: 15px;
    }
</style>

<div class="container mt-5">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 sidebar">
            <h2>My Account</h2>
            <a href="/userProfile" class="active"><i class="bi bi-person"></i> Account Details</a>
            <a href="/address"><i class="bi bi-geo-alt"></i> Address</a>
            <a href="/orders"><i class="bi bi-cart2"></i> Orders</a>
            <a href="/wishlist"><i class="bi bi-heart"></i> Wishlist</a>
            <a href="/wallet"><i class="bi bi-wallet-fill"></i> Wallet</a>
            <a href="/mycoupons"><i class="bi bi-cash"></i> My Coupons</a>
            <a href="#" onclick="confirmLogout(event)" class="text-danger mt-4"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 main-content">
            <h2>User Profile</h2>

            <!-- Profile Picture -->
            <div class="profile-image-container">
                <img src="/uploads/re-image/<%=user.profileImage%>"  alt="Profile Picture" class="rounded-circle">
                <div class="ml-3">
                    <h5><%= user.name || 'John Doe' %></h5>
                    <p class="text-muted"><%= user.email || 'johndoe@example.com' %></p>
                </div>
            </div>

            <!-- Read-Only Info -->
            <div class="profile-info">
                <p><strong>Username:</strong> <%= user.username || 'john_doe' %></p>
                <p><strong>Phone Number:</strong> <%= user.phone || '1234567890' %></p>
            </div>

            <a href="/edit-profile" class="btn btn-primary btn-edit">
                <i class="bi bi-pencil-square"></i> Edit Profile
            </a>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    function confirmLogout(event) {
        event.preventDefault();
        Swal.fire({
            title: 'Are you sure you want to logout?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Logout',
            cancelButtonText: 'Cancel',
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/logout";
            }
        });
    }
</script>


<%- include("../../views/partials/user/footer") %>
